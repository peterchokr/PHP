# 8ì¥: ë°ì´í„° ê´€ë¦¬ & ì¢…í•© ì‹¤ìŠµ (í”„ë¡œì íŠ¸)

---

## í•™ìŠµëª©í‘œ

**í•™ìŠµëª©í‘œ**: ì§€ë‚œ 7ì£¼ê°„ ë°°ìš´ ë‚´ìš©ì„ í†µí•©í•˜ì—¬ ê¸°ë³¸ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆìŒ

ì´ ì¥ì„ í•™ìŠµí•˜ê³  ë‚˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

âœ… ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í•„ìš”í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
âœ… CRUD ì‘ì—…(Create, Read, Update, Delete)ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
âœ… ì‚¬ìš©ì ì¸ì¦ì„ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
âœ… ì‹¤ë¬´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê¸°ë³¸ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## âš¡ í”„ë¡œì íŠ¸ ì„ íƒ

ì´ ì¥ì—ì„œëŠ” **ë‹¤ìŒ 2ê°œ í”„ë¡œì íŠ¸ ì¤‘ 1ê°œ**ë¥¼ ì„ íƒí•˜ì—¬ ì§„í–‰í•©ë‹ˆë‹¤.

- **ì„ íƒ 1: ê°„ë‹¨í•œ TODO ê´€ë¦¬ ì‹œìŠ¤í…œ** (ê°œì¸ìš©)
- **ì„ íƒ 2: ê°„ë‹¨í•œ ìƒí’ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ** (ê´€ë¦¬ììš©)

---

# í”„ë¡œì íŠ¸ 1ï¸âƒ£: TODO ê´€ë¦¬ ì‹œìŠ¤í…œ

## 1ï¸âƒ£ í”„ë¡œì íŠ¸ ê°œìš”

**ëª©ì **: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ìì‹ ì˜ í•  ì¼(TODO)ì„ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ, ì™„ë£Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œ

**ê¸°ëŠ¥**:

- ë¡œê·¸ì¸ í™•ì¸
- TODO ì¶”ê°€ (INSERT)
- TODO ëª©ë¡ ë³´ê¸° (SELECT)
- TODO ìˆ˜ì • (UPDATE)
- TODO ì‚­ì œ (DELETE) - ê³¼ì œ
- TODO ìƒíƒœ ë³€ê²½ (UPDATE) - ê³¼ì œ

---

## 2ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 2-1 í…Œì´ë¸” ìƒì„±

```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE IF NOT EXISTS todo_app;
USE todo_app;

-- users í…Œì´ë¸” 
CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- todos í…Œì´ë¸” 
CREATE TABLE todos (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    title VARCHAR(200) NOT NULL,
    status ENUM('incomplete', 'complete') DEFAULT 'incomplete',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

-- í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ì•„ë˜ì˜ setup_users.phpë¡œ ìƒì„±í•©ë‹ˆë‹¤
-- (bcrypt í•´ì‹œë¥¼ ì •í™•í•˜ê²Œ ìƒì„±í•˜ê¸° ìœ„í•´)
```

### 2-2 í…Œì´ë¸” ì„¤ëª…

```
todos í…Œì´ë¸” êµ¬ì¡°:

â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ user_id â”‚ title    â”‚ status   â”‚ created_at â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ 1       â”‚ ì¥ë³´ê¸°   â”‚ incompleteâ”‚ 2024-01-11 â”‚
â”‚ 2  â”‚ 1       â”‚ ê³µë¶€í•˜ê¸° â”‚ complete  â”‚ 2024-01-11 â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- user_id: ì´ TODOì˜ ì†Œìœ ì (6ì¥ ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì‚¬ìš©)
- FOREIGN KEY: user_idëŠ” users í…Œì´ë¸”ì— ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•¨
```

---

### 2-3 í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± (setup_users.php) 

í…Œì´ë¸”ì„ ìƒì„±í•œ í›„, ë‹¤ìŒ PHP ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰í•˜ì—¬ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì„¸ìš”.

**íŒŒì¼ëª…: `setup_users.php`** (1íšŒë§Œ ì‹¤í–‰)

```php
<?php

$host = 'localhost';
$dbname = 'todo_app';
$username = 'root';
$password = '';

try {
    $pdo = new PDO(
        "mysql:host=$host;dbname=$dbname;charset=utf8",
        $username,
        $password
    );
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
  
    // ì‚¬ìš©ì ë°ì´í„°
    $users = array(
        array(
            'username' => 'john',
            'plain_password' => 'password123',
            'display_name' => 'John (ë¹„ë°€ë²ˆí˜¸: password123)'
        ),
        array(
            'username' => 'admin',
            'plain_password' => 'admin123',
            'display_name' => 'Admin (ë¹„ë°€ë²ˆí˜¸: admin123)'
        )
    );
  
    // ì‚¬ìš©ì ì‚½ì…
    $sql = "INSERT INTO users (username, password) VALUES (?, ?)";
    $stmt = $pdo->prepare($sql);
  
    foreach ($users as $user) {
        // password_hash(): ë¹„ë°€ë²ˆí˜¸ë¥¼ bcryptë¡œ ì•ˆì „í•˜ê²Œ í•´ì‹±
        $hashed = password_hash($user['plain_password'], PASSWORD_BCRYPT);
      
        $stmt->execute(array(
            $user['username'],
            $hashed
        ));
      
        echo "âœ… " . $user['display_name'] . " ì‚¬ìš©ì ìƒì„± ì™„ë£Œ<br>";
    }
  
    // TODO ìƒ˜í”Œ ë°ì´í„°
    // ì²« ë²ˆì§¸ ì‚¬ìš©ì(john, id=1)ì˜ TODO ì¶”ê°€
    $todo_sql = "INSERT INTO todos (user_id, title, status) VALUES (?, ?, ?)";
    $todo_stmt = $pdo->prepare($todo_sql);
  
    $todos = array(
        array('user_id' => 1, 'title' => 'ì¥ë³´ê¸°', 'status' => 'incomplete'),
        array('user_id' => 1, 'title' => 'ê³µë¶€í•˜ê¸°', 'status' => 'complete')
    );
  
    foreach ($todos as $todo) {
        $todo_stmt->execute(array(
            $todo['user_id'],
            $todo['title'],
            $todo['status']
        ));
    }
  
    echo "<br>âœ… ëª¨ë“  ë°ì´í„°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!<br><br>";
    echo "ğŸ“ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸:<br>";
    echo "ì‚¬ìš©ìëª…: john<br>";
    echo "ë¹„ë°€ë²ˆí˜¸: password123<br>";
  
} catch (PDOException $e) {
    echo "âŒ ì˜¤ë¥˜: " . $e->getMessage();
}

?>
```

**ì‹¤í–‰ ë°©ë²•:**

1. ìœ„ SQLë¡œ ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ìƒì„±
2. `setup_users.php` íŒŒì¼ì„ ì„œë²„ì— ì—…ë¡œë“œ
3. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost/setup_users.php` ì ‘ì†
4. âœ… ë°ì´í„° ìƒì„± ì™„ë£Œ ë©”ì‹œì§€ í™•ì¸

**ê²°ê³¼:**

- john / password123 ì‚¬ìš©ì ìƒì„± (bcrypt í•´ì‹œë¡œ ì•ˆì „í•˜ê²Œ ì €ì¥)
- admin / admin123 ì‚¬ìš©ì ìƒì„± (bcrypt í•´ì‹œë¡œ ì•ˆì „í•˜ê²Œ ì €ì¥)
- john ì‚¬ìš©ìì˜ TODO ìƒ˜í”Œ 2ê°œ ìƒì„±

## 3ï¸âƒ£ êµ¬í˜„ ê¸°ëŠ¥

### 3-1-1 ê³µí†µ ì„¤ì • (config.php)

```php
<?php

// config.php - ëª¨ë“  í˜ì´ì§€ì— í¬í•¨

// ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
$host = 'localhost';
$dbname = 'todo_app';
$username = 'root';
$password = '';

try {
    // PDO = PHP Data Objects
    // = PHPì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì•ˆì „í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í´ë˜ìŠ¤
    $pdo = new PDO(
        "mysql:host=$host;dbname=$dbname;charset=utf8",
        $username,
        $password
    );
  
    // setAttribute()
    // = PDOì˜ ë™ì‘ ë°©ì‹ ì„¤ì •
    // PDO::ATTR_ERRMODE = ì—ëŸ¬ ì²˜ë¦¬ ë°©ì‹
    // PDO::ERRMODE_EXCEPTION = ì—ëŸ¬ ë°œìƒ ì‹œ Exception ë°œìƒ
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
  
} catch (PDOException $e) {
    // PDOException = ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì˜ˆì™¸
    die("DB ì—°ê²° ì‹¤íŒ¨: " . $e->getMessage());
}

// ì„¸ì…˜ ì‹œì‘
session_start();

// ë¡œê·¸ì¸ í™•ì¸
// isset() = ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ëŠ”ê°€?
// ë¡œê·¸ì¸í•˜ì§€ ì•Šìœ¼ë©´ login.phpë¡œ ì´ë™
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit;
}

$user_id = $_SESSION['user_id'];

?>
```

### 3-1-2 ë¡œê·¸ì¸ í˜ì´ì§€ (login.php) 

```php
<?php

// ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
$host = 'localhost';
$dbname = 'todo_app';
$username = 'root';
$password = '';

try {
    $pdo = new PDO(
        "mysql:host=$host;dbname=$dbname;charset=utf8",
        $username,
        $password
    );
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch (PDOException $e) {
    die("DB ì—°ê²° ì‹¤íŒ¨: " . $e->getMessage());
}

// ì„¸ì…˜ ì‹œì‘
session_start();

// ì´ë¯¸ ë¡œê·¸ì¸í–ˆìœ¼ë©´ ëª©ë¡ìœ¼ë¡œ ì´ë™
if (isset($_SESSION['user_id'])) {
    header("Location: list_todos.php");
    exit;
}

$error = '';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    try {
        $username_input = htmlspecialchars($_POST['username'] ?? '');
        $password_input = htmlspecialchars($_POST['password'] ?? '');
      
        // ì…ë ¥ê°’ ê²€ì¦
        if (empty($username_input) || empty($password_input)) {
            throw new Exception("ì‚¬ìš©ìëª…ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”");
        }
      
        // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ì¡°íšŒ
        $sql = "SELECT id, username, password FROM users WHERE username = ?";
        $stmt = $pdo->prepare($sql);
        $stmt->execute([$username_input]);
        $user = $stmt->fetch(PDO::FETCH_ASSOC);
      
        // password_verify(): ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ì™€ bcrypt í•´ì‹œ ë¹„êµ
        if ($user && password_verify($password_input, $user['password'])) {
            // ë¡œê·¸ì¸ ì„±ê³µ
            $_SESSION['user_id'] = $user['id'];
            $_SESSION['username'] = $user['username'];
            header("Location: list_todos.php");
            exit;
        } else {
            throw new Exception("ì‚¬ìš©ìëª… ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤");
        }
      
    } catch (Exception $e) {
        $error = $e->getMessage();
    }
}

?>

<!DOCTYPE html>
<html>
<head>
    <title>ë¡œê·¸ì¸ - TODO ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
      
        body {
            font-family: 'ë§‘ì€ ê³ ë”•', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
      
        .login-container {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
        }
      
        h1 {
            color: navy;
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
        }
      
        .form-group {
            margin-bottom: 20px;
        }
      
        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: bold;
        }
      
        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
      
        input:focus {
            outline: none;
            border-color: navy;
            box-shadow: 0 0 5px rgba(0, 0, 139, 0.3);
        }
      
        button {
            width: 100%;
            padding: 12px;
            background-color: navy;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
      
        button:hover {
            background-color: #000080;
        }
      
        .error {
            color: #d32f2f;
            background-color: #ffebee;
            padding: 12px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #d32f2f;
        }
      
        .test-info {
            background-color: #e8f5e9;
            padding: 12px;
            border-radius: 5px;
            margin-top: 20px;
            border-left: 4px solid #4caf50;
            font-size: 12px;
            color: #333;
        }
      
        .test-info strong {
            display: block;
            margin-bottom: 5px;
            color: #2e7d32;
        }
    </style>
</head>
<body>

<div class="login-container">
    <h1>ğŸ“‹ TODO ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
  
    <?php if ($error): ?>
        <div class="error">âŒ <?php echo htmlspecialchars($error); ?></div>
    <?php endif; ?>
  
    <form method="POST">
        <div class="form-group">
            <label for="username">ì‚¬ìš©ìëª…:</label>
            <input type="text" id="username" name="username" placeholder="ì‚¬ìš©ìëª… ì…ë ¥" required autofocus>
        </div>
      
        <div class="form-group">
            <label for="password">ë¹„ë°€ë²ˆí˜¸:</label>
            <input type="password" id="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" required>
        </div>
      
        <button type="submit">ë¡œê·¸ì¸í•˜ê¸°</button>
    </form>
  
    <div class="test-info">
        <strong>ğŸ“ í…ŒìŠ¤íŠ¸ ê³„ì •</strong>
        ì‚¬ìš©ìëª…: john<br>
        ë¹„ë°€ë²ˆí˜¸: password123<br>
        <br>
        <small>ë¹„ë°€ë²ˆí˜¸ëŠ” bcryptë¡œ ì•ˆì „í•˜ê²Œ ì•”í˜¸í™”ë©ë‹ˆë‹¤</small>
    </div>
</div>

</body>
</html>
```

### 3-2 TODO ì¶”ê°€ (add_todo.php)

```php
<?php

require 'config.php';

$error = '';
$success = '';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    try {
        $title = htmlspecialchars(trim($_POST['title'] ?? ''));
    
        // ê²€ì¦
        if (empty($title)) {
            throw new Exception("ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”");
        }
        if (strlen($title) > 200) {
            throw new Exception("ì œëª©ì€ 200ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤");
        }
    
        // INSERT ì¿¼ë¦¬ ì‹¤í–‰
        // prepare() = SQL ì¿¼ë¦¬ë¥¼ ë¯¸ë¦¬ ì¤€ë¹„ (? ìë¦¬ì— ë‚˜ì¤‘ì— ê°’ ì…ë ¥)
        // execute() = ì¤€ë¹„ëœ ì¿¼ë¦¬ì— ê°’ì„ ë„£ì–´ì„œ ì‹¤í–‰
        // ì´ ë°©ì‹ì€ SQL ì¸ì ì…˜ ê³µê²©ìœ¼ë¡œë¶€í„° ì•ˆì „
        $sql = "INSERT INTO todos (user_id, title, status) VALUES (?, ?, 'incomplete')";
        $stmt = $pdo->prepare($sql);
        $stmt->execute([$user_id, $title]);
    
        $success = "TODOê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!";
    
    } catch (Exception $e) {
        $error = $e->getMessage();
    }
}

?>

<!DOCTYPE html>
<html>
<head>
    <title>TODO ì¶”ê°€</title>
    <style>
        body { font-family: 'ë§‘ì€ ê³ ë”•'; max-width: 600px; margin: 50px auto; padding: 20px; }
        h1 { color: navy; }
        form { background: #f5f5f5; padding: 15px; }
        input { width: 100%; padding: 8px; margin: 8px 0; border: 1px solid #ddd; }
        button { background: navy; color: white; padding: 8px 15px; border: none; cursor: pointer; }
        .error { color: red; padding: 8px; background: #ffe6e6; }
        .success { color: green; padding: 8px; background: #e6ffe6; }
        a { color: navy; text-decoration: none; }
    </style>
</head>
<body>

<h1>ğŸ“ ìƒˆ TODO ì¶”ê°€</h1>

<?php if ($error): ?>
    <div class="error"><?php echo htmlspecialchars($error); ?></div>
<?php endif; ?>

<?php if ($success): ?>
    <div class="success"><?php echo htmlspecialchars($success); ?></div>
    <a href="list_todos.php">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
<?php else: ?>
    <form method="POST">
        <input type="text" name="title" placeholder="í•´ì•¼ í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" autofocus required>
        <button type="submit">ì¶”ê°€í•˜ê¸°</button>
    </form>
    <a href="list_todos.php">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
<?php endif; ?>

</body>
</html>
```

### 3-3 TODO ëª©ë¡ (list_todos.php)

```php
<?php

require 'config.php';

try {
    // SELECT ì¿¼ë¦¬
    // WHERE user_id = ? = í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ TODOë§Œ ì¡°íšŒ
    // ORDER BY created_at DESC = ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬
    $sql = "SELECT id, title, status, created_at FROM todos 
            WHERE user_id = ? 
            ORDER BY created_at DESC";
    $stmt = $pdo->prepare($sql);
    $stmt->execute([$user_id]);
  
    // fetchAll() = ëª¨ë“  ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ê°€ì ¸ì˜´
    // PDO::FETCH_ASSOC = ì—°ê´€ë°°ì—´ë¡œ ë°˜í™˜ (ì»¬ëŸ¼ëª…ì´ í‚¤)
    $todos = $stmt->fetchAll(PDO::FETCH_ASSOC);
  
} catch (PDOException $e) {
    die("ì¡°íšŒ ì‹¤íŒ¨: " . $e->getMessage());
}

?>

<!DOCTYPE html>
<html>
<head>
    <title>TODO ëª©ë¡</title>
    <style>
        body { font-family: 'ë§‘ì€ ê³ ë”•'; max-width: 800px; margin: 50px auto; padding: 20px; }
        h1 { color: navy; }
        a { display: inline-block; margin: 10px 5px 10px 0; padding: 8px 12px; background: navy; color: white; text-decoration: none; }
        .todo-item { border: 1px solid #ddd; padding: 12px; margin: 10px 0; background: #f9f9f9; display: flex; justify-content: space-between; align-items: center; }
        .todo-title { font-weight: bold; color: navy; }
        .todo-status { font-size: 12px; color: #666; }
        .status-complete { color: green; }
        .empty { color: #999; padding: 20px; }
        .action a { padding: 4px 8px; margin-left: 5px; font-size: 12px; }
    </style>
</head>
<body>

<h1>ğŸ“‹ ë‚˜ì˜ TODO ëª©ë¡</h1>

<a href="add_todo.php">â• ìƒˆ TODO ì¶”ê°€</a>
<a href="logout.php">ğŸšª ë¡œê·¸ì•„ì›ƒ</a>

<?php if (empty($todos)): ?>
    <div class="empty">í•´ì•¼ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>
<?php else: ?>
    <?php foreach ($todos as $todo): ?>
        <div class="todo-item">
            <div>
                <div class="todo-title"><?php echo htmlspecialchars($todo['title']); ?></div>
                <div class="todo-status">
                    <?php echo $todo['created_at']; ?>
                    <span class="<?php echo $todo['status'] === 'complete' ? 'status-complete' : ''; ?>">
                        (<?php echo $todo['status'] === 'complete' ? 'ì™„ë£Œ' : 'ë¯¸ì™„ë£Œ'; ?>)
                    </span>
                </div>
            </div>
            <div class="action">
                <a href="edit_todo.php?id=<?php echo $todo['id']; ?>">ìˆ˜ì •</a>
            </div>
        </div>
    <?php endforeach; ?>
<?php endif; ?>

</body>
</html>
```

### 3-4 TODO ìˆ˜ì • (edit_todo.php)

```php
<?php

require 'config.php';

$error = '';
$todo = null;
$id = $_GET['id'] ?? null;

if (!$id) {
    die("ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤");
}

// ê¸°ì¡´ TODO ë°ì´í„° ì¡°íšŒ
try {
    // WHERE id = ? AND user_id = ?
    // = ìì‹ ì˜ TODOì¸ì§€ í™•ì¸ (ë³´ì•ˆ)
    $sql = "SELECT id, title, status FROM todos WHERE id = ? AND user_id = ?";
    $stmt = $pdo->prepare($sql);
    $stmt->execute([$id, $user_id]);
  
    // fetch() = í•˜ë‚˜ì˜ í–‰(row)ì„ ê°€ì ¸ì˜´
    $todo = $stmt->fetch(PDO::FETCH_ASSOC);
  
    if (!$todo) {
        die("TODOë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
    }
  
} catch (PDOException $e) {
    die("ì¡°íšŒ ì‹¤íŒ¨: " . $e->getMessage());
}

// POST ìš”ì²­ ì²˜ë¦¬ (ìˆ˜ì •)
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    try {
        $title = htmlspecialchars(trim($_POST['title'] ?? ''));
    
        if (empty($title)) {
            throw new Exception("ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”");
        }
    
        // UPDATE ì¿¼ë¦¬
        // WHERE id = ? AND user_id = ?
        // = ìì‹ ì˜ TODOë§Œ ìˆ˜ì • ê°€ëŠ¥
        $sql = "UPDATE todos SET title = ? WHERE id = ? AND user_id = ?";
        $stmt = $pdo->prepare($sql);
        $stmt->execute([$title, $id, $user_id]);
    
        // ìˆ˜ì • ì™„ë£Œ í›„ ëª©ë¡ìœ¼ë¡œ ì´ë™
        header("Location: list_todos.php");
        exit;
    
    } catch (Exception $e) {
        $error = $e->getMessage();
    }
}

?>

<!DOCTYPE html>
<html>
<head>
    <title>TODO ìˆ˜ì •</title>
    <style>
        body { font-family: 'ë§‘ì€ ê³ ë”•'; max-width: 600px; margin: 50px auto; padding: 20px; }
        h1 { color: navy; }
        form { background: #f5f5f5; padding: 15px; }
        input { width: 100%; padding: 8px; margin: 8px 0; border: 1px solid #ddd; }
        button { background: navy; color: white; padding: 8px 15px; border: none; cursor: pointer; }
        .error { color: red; padding: 8px; background: #ffe6e6; }
        a { color: navy; text-decoration: none; }
    </style>
</head>
<body>

<h1>âœï¸ TODO ìˆ˜ì •</h1>

<?php if ($error): ?>
    <div class="error"><?php echo htmlspecialchars($error); ?></div>
<?php endif; ?>

<form method="POST">
    <input type="text" name="title" value="<?php echo htmlspecialchars($todo['title']); ?>" required autofocus>
    <button type="submit">ìˆ˜ì •í•˜ê¸°</button>
</form>

<a href="list_todos.php">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>

</body>
</html>
```

---

## 4ï¸âƒ£ ê³¼ì œë¡œ í™•ì¥í•  ê¸°ëŠ¥

### 4-1 TODO ìƒíƒœ ë³€ê²½

**ëª©í‘œ**: ì™„ë£Œ/ë¯¸ì™„ë£Œ ìƒíƒœë¥¼ í† ê¸€í•˜ê¸°

**í•´ì•¼í•  ì¼**:

- toggle_todo.php íŒŒì¼ ìƒì„±
- list_todos.phpì˜ ê° TODO í•­ëª©ì— ìƒíƒœ ë³€ê²½ ë²„íŠ¼ ì¶”ê°€
- POST ìš”ì²­ìœ¼ë¡œ toggle_todo.phpì— TODO id ì „ì†¡
- í˜„ì¬ ìƒíƒœë¥¼ ì¡°íšŒí•œ í›„ ë°˜ëŒ€ ìƒíƒœë¡œ UPDATE
- UPDATE ì™„ë£Œ í›„ list_todos.phpë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

### 4-2 TODO ì‚­ì œí•˜ê¸°

**ëª©í‘œ**: í™•ì¸ ë©”ì‹œì§€ í›„ TODO ì‚­ì œ

**í•´ì•¼í•  ì¼**:

- delete_todo.php íŒŒì¼ ìƒì„±
- list_todos.phpì˜ ê° TODO í•­ëª©ì— ì‚­ì œ ë²„íŠ¼ ì¶”ê°€
- JavaScript confirm() í•¨ìˆ˜ë¡œ ì‚¬ìš©ìì—ê²Œ í™•ì¸ ë©”ì‹œì§€ í‘œì‹œ
- GET ìš”ì²­ìœ¼ë¡œ delete_todo.phpì— TODO id ì „ì†¡
- DELETE ì¿¼ë¦¬ë¡œ ë°ì´í„° ì‚­ì œ (WHERE ì ˆì— idì™€ user_id í•„ìˆ˜)
- ì‚­ì œ ì™„ë£Œ í›„ list_todos.phpë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

### 4-3 í˜ì´ì§€ë„¤ì´ì…˜ (ì„ íƒì‚¬í•­)

**ëª©í‘œ**: 1í˜ì´ì§€ì— 5ê°œì˜ TODOë§Œ í‘œì‹œ

**í•´ì•¼í•  ì¼**:

- list_todos.phpì˜ SELECT ì¿¼ë¦¬ì— LIMITê³¼ OFFSET ì¶”ê°€
- í˜ì´ì§€ ë²ˆí˜¸ë¥¼ URL íŒŒë¼ë¯¸í„°ë¡œ ë°›ê¸° (?page=1)
- COUNT(*)ë¡œ ì „ì²´ TODO ê°œìˆ˜ ì¡°íšŒ
- ì „ì²´ í˜ì´ì§€ ìˆ˜ ê³„ì‚°: ceil(ì´ ê°œìˆ˜ / 5)
- í˜ì´ì§€ ë°”ë‹¥ì— "ì´ì „" "ë‹¤ìŒ" ë²„íŠ¼ ì¶”ê°€

---

# í”„ë¡œì íŠ¸ 2ï¸âƒ£: ìƒí’ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ

## 1ï¸âƒ£ í”„ë¡œì íŠ¸ ê°œìš”

**ëª©ì **: ê´€ë¦¬ìê°€ ìƒí’ˆ ì •ë³´ë¥¼ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ, ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œ

**ê¸°ëŠ¥**:

- ìƒí’ˆ ì¶”ê°€ (INSERT)
- ìƒí’ˆ ëª©ë¡ (SELECT)
- ìƒí’ˆ ìˆ˜ì • (UPDATE)
- ìƒí’ˆ ì‚­ì œ (DELETE) - ê³¼ì œ
- ìƒí’ˆ ê²€ìƒ‰ (LIKE) - ê³¼ì œ

---

## 2ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 2-1 í…Œì´ë¸” ìƒì„±

```sql
CREATE DATABASE IF NOT EXISTS product_app;
USE product_app;

CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL
);

CREATE TABLE products (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(200) NOT NULL,
    price INT NOT NULL,
    stock INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- í…ŒìŠ¤íŠ¸ ë°ì´í„°
INSERT INTO users (username, password) VALUES ('admin', MD5('admin123'));
INSERT INTO products (name, price, stock) VALUES 
('ë…¸íŠ¸ë¶', 1200000, 10),
('ë§ˆìš°ìŠ¤', 50000, 100);
```

---

## 3ï¸âƒ£ êµ¬í˜„ ê¸°ëŠ¥

### 3-1 ìƒí’ˆ ì¶”ê°€ (add_product.php)

```php
<?php

require 'config.php';

$error = '';
$success = '';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    try {
        $name = htmlspecialchars(trim($_POST['name'] ?? ''));
        $price = $_POST['price'] ?? '';
        $stock = $_POST['stock'] ?? '';
    
        // ê²€ì¦
        if (empty($name)) throw new Exception("ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”");
        if (!is_numeric($price) || $price < 0) throw new Exception("ê°€ê²©ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”");
        if (!is_numeric($stock) || $stock < 0) throw new Exception("ì¬ê³ ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”");
    
        // INSERT ì¿¼ë¦¬
        $sql = "INSERT INTO products (name, price, stock) VALUES (?, ?, ?)";
        $stmt = $pdo->prepare($sql);
        $stmt->execute([$name, $price, $stock]);
    
        $success = "ìƒí’ˆì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!";
    
    } catch (Exception $e) {
        $error = $e->getMessage();
    }
}

?>

<!DOCTYPE html>
<html>
<head>
    <title>ìƒí’ˆ ì¶”ê°€</title>
    <style>
        body { font-family: 'ë§‘ì€ ê³ ë”•'; max-width: 600px; margin: 50px auto; padding: 20px; }
        h1 { color: navy; }
        form { background: #f5f5f5; padding: 15px; }
        input { width: 100%; padding: 8px; margin: 8px 0; border: 1px solid #ddd; }
        button { background: navy; color: white; padding: 8px 15px; border: none; cursor: pointer; }
        .error { color: red; padding: 8px; background: #ffe6e6; }
        .success { color: green; padding: 8px; background: #e6ffe6; }
        a { color: navy; text-decoration: none; }
    </style>
</head>
<body>

<h1>â• ìƒˆ ìƒí’ˆ ì¶”ê°€</h1>

<?php if ($error): ?>
    <div class="error"><?php echo htmlspecialchars($error); ?></div>
<?php endif; ?>

<?php if ($success): ?>
    <div class="success"><?php echo htmlspecialchars($success); ?></div>
    <a href="list_products.php">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
<?php else: ?>
    <form method="POST">
        <input type="text" name="name" placeholder="ìƒí’ˆëª…" required>
        <input type="number" name="price" placeholder="ê°€ê²©" min="0" required>
        <input type="number" name="stock" placeholder="ì¬ê³ " min="0" required>
        <button type="submit">ì¶”ê°€í•˜ê¸°</button>
    </form>
    <a href="list_products.php">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
<?php endif; ?>

</body>
</html>
```

### 3-2 ìƒí’ˆ ëª©ë¡ (list_products.php)

```php
<?php

require 'config.php';

try {
    // ëª¨ë“  ìƒí’ˆì„ ìµœì‹ ìˆœìœ¼ë¡œ ì¡°íšŒ
    $sql = "SELECT id, name, price, stock, created_at FROM products ORDER BY created_at DESC";
    $stmt = $pdo->prepare($sql);
    $stmt->execute();
  
    // fetchAll() = ëª¨ë“  ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜
    $products = $stmt->fetchAll(PDO::FETCH_ASSOC);
  
} catch (PDOException $e) {
    die("ì¡°íšŒ ì‹¤íŒ¨: " . $e->getMessage());
}

?>

<!DOCTYPE html>
<html>
<head>
    <title>ìƒí’ˆ ëª©ë¡</title>
    <style>
        body { font-family: 'ë§‘ì€ ê³ ë”•'; max-width: 1000px; margin: 50px auto; padding: 20px; }
        h1 { color: navy; }
        a { display: inline-block; margin: 10px 5px 10px 0; padding: 8px 12px; background: navy; color: white; text-decoration: none; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background: navy; color: white; }
        tr:nth-child(even) { background: #f9f9f9; }
        .action a { margin: 0 3px; padding: 3px 8px; font-size: 12px; }
    </style>
</head>
<body>

<h1>ğŸ“¦ ìƒí’ˆ ëª©ë¡</h1>

<a href="add_product.php">â• ìƒˆ ìƒí’ˆ ì¶”ê°€</a>
<a href="logout.php">ğŸšª ë¡œê·¸ì•„ì›ƒ</a>

<?php if (empty($products)): ?>
    <p style="color: #999;">ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>
<?php else: ?>
    <table>
        <tr>
            <th>ìƒí’ˆëª…</th>
            <th>ê°€ê²©</th>
            <th>ì¬ê³ </th>
            <th>ë“±ë¡ì¼</th>
            <th>ì‘ì—…</th>
        </tr>
        <?php foreach ($products as $product): ?>
            <tr>
                <td><?php echo htmlspecialchars($product['name']); ?></td>
                <td><?php echo number_format($product['price']); ?>ì›</td>
                <td><?php echo $product['stock']; ?>ê°œ</td>
                <td><?php echo substr($product['created_at'], 0, 10); ?></td>
                <td class="action">
                    <a href="edit_product.php?id=<?php echo $product['id']; ?>">ìˆ˜ì •</a>
                </td>
            </tr>
        <?php endforeach; ?>
    </table>
<?php endif; ?>

</body>
</html>
```

### 3-3 ìƒí’ˆ ìˆ˜ì • (edit_product.php)

```php
<?php

require 'config.php';

$error = '';
$product = null;
$id = $_GET['id'] ?? null;

if (!$id) {
    die("ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤");
}

try {
    // ìƒí’ˆ ì¡°íšŒ
    $sql = "SELECT id, name, price, stock FROM products WHERE id = ?";
    $stmt = $pdo->prepare($sql);
    $stmt->execute([$id]);
  
    $product = $stmt->fetch(PDO::FETCH_ASSOC);
  
    if (!$product) {
        die("ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
    }
  
} catch (PDOException $e) {
    die("ì¡°íšŒ ì‹¤íŒ¨: " . $e->getMessage());
}

// POST ìš”ì²­ ì²˜ë¦¬
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    try {
        $name = htmlspecialchars(trim($_POST['name'] ?? ''));
        $price = $_POST['price'] ?? '';
        $stock = $_POST['stock'] ?? '';
    
        if (empty($name)) throw new Exception("ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”");
        if (!is_numeric($price) || $price < 0) throw new Exception("ê°€ê²©ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”");
        if (!is_numeric($stock) || $stock < 0) throw new Exception("ì¬ê³ ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”");
    
        // UPDATE ì¿¼ë¦¬
        $sql = "UPDATE products SET name = ?, price = ?, stock = ? WHERE id = ?";
        $stmt = $pdo->prepare($sql);
        $stmt->execute([$name, $price, $stock, $id]);
    
        header("Location: list_products.php");
        exit;
    
    } catch (Exception $e) {
        $error = $e->getMessage();
    }
}

?>

<!DOCTYPE html>
<html>
<head>
    <title>ìƒí’ˆ ìˆ˜ì •</title>
    <style>
        body { font-family: 'ë§‘ì€ ê³ ë”•'; max-width: 600px; margin: 50px auto; padding: 20px; }
        h1 { color: navy; }
        form { background: #f5f5f5; padding: 15px; }
        input { width: 100%; padding: 8px; margin: 8px 0; border: 1px solid #ddd; }
        button { background: navy; color: white; padding: 8px 15px; border: none; cursor: pointer; }
        .error { color: red; padding: 8px; background: #ffe6e6; }
        a { color: navy; text-decoration: none; }
    </style>
</head>
<body>

<h1>âœï¸ ìƒí’ˆ ìˆ˜ì •</h1>

<?php if ($error): ?>
    <div class="error"><?php echo htmlspecialchars($error); ?></div>
<?php endif; ?>

<form method="POST">
    <input type="text" name="name" value="<?php echo htmlspecialchars($product['name']); ?>" required>
    <input type="number" name="price" value="<?php echo $product['price']; ?>" min="0" required>
    <input type="number" name="stock" value="<?php echo $product['stock']; ?>" min="0" required>
    <button type="submit">ìˆ˜ì •í•˜ê¸°</button>
</form>

<a href="list_products.php">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>

</body>
</html>
```

---

## 4ï¸âƒ£ ê³¼ì œë¡œ í™•ì¥í•  ê¸°ëŠ¥

### 4-1 ìƒí’ˆ ì‚­ì œí•˜ê¸°

**ëª©í‘œ**: ìƒí’ˆì„ ì‚­ì œí•˜ê³  ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°

**í•´ì•¼í•  ì¼**:

- delete_product.php íŒŒì¼ ìƒì„±
- list_products.phpì˜ ê° ìƒí’ˆ "ì‘ì—…" ì—´ì— ì‚­ì œ ë²„íŠ¼ ì¶”ê°€
- JavaScript confirm() í•¨ìˆ˜ë¡œ ì‚­ì œ í™•ì¸ ë©”ì‹œì§€ í‘œì‹œ
- GET ìš”ì²­ìœ¼ë¡œ delete_product.phpì— ìƒí’ˆ id ì „ì†¡
- DELETE ì¿¼ë¦¬ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í•´ë‹¹ ìƒí’ˆ ì‚­ì œ
- ì‚­ì œ ì™„ë£Œ í›„ list_products.phpë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

### 4-2 ìƒí’ˆ ê²€ìƒ‰í•˜ê¸°

**ëª©í‘œ**: ìƒí’ˆëª…ìœ¼ë¡œ ë¶€ë¶„ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„

**í•´ì•¼í•  ì¼**:

- search_products.php íŒŒì¼ ìƒì„±
- HTML í¼ì—ì„œ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥ë°›ê¸° (GET ë°©ì‹)
- LIKE ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ 'name LIKE %keyword%' í˜•ì‹ìœ¼ë¡œ ê²€ìƒ‰
- htmlspecialchars()ë¡œ ê²€ìƒ‰ í‚¤ì›Œë“œ ì•ˆì „ ì²˜ë¦¬
- ê²€ìƒ‰ ê²°ê³¼ë¥¼ í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
- list_products.phpì— ê²€ìƒ‰ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë§í¬ ì¶”ê°€

### 4-3 ì´ë¯¸ì§€ ì—…ë¡œë“œ (ì„ íƒì‚¬í•­)

**ëª©í‘œ**: 7ì¥ íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥ì„ ìƒí’ˆì— ì ìš©

**í•´ì•¼í•  ì¼**:

- products í…Œì´ë¸”ì— image ì»¬ëŸ¼ ì¶”ê°€ (VARCHAR 200)
- add_product.phpì™€ edit_product.phpì—ì„œ ì´ë¯¸ì§€ íŒŒì¼ input ì¶”ê°€
- 7ì¥ì˜ íŒŒì¼ ì—…ë¡œë“œ ê²€ì¦ ë¡œì§ ì ìš© (íŒŒì¼ í¬ê¸°, í™•ì¥ì í™•ì¸)
- ì´ë¯¸ì§€ íŒŒì¼ì„ ì§€ì •ëœ ë””ë ‰í† ë¦¬ì— ì €ì¥
- list_products.phpì—ì„œ ìƒí’ˆ ëª©ë¡ ë³´ê¸° ì‹œ ì´ë¯¸ì§€ ì¸ë„¤ì¼ í‘œì‹œ

---

## 5ï¸âƒ£ ê³¼ì œ

**ìš”êµ¬ì‚¬í•­**:

```
1. ì„ íƒí•œ í”„ë¡œì íŠ¸(TODO ë˜ëŠ” ìƒí’ˆ) ì™„ì„±í•˜ê¸°
   
2. ë‹¤ìŒ ê¸°ëŠ¥ì´ ëª¨ë‘ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸:
   - ì¶”ê°€í•˜ê¸° âœ…
   - ëª©ë¡ ë³´ê¸° âœ…
   - ìˆ˜ì •í•˜ê¸° âœ…
   - ì‚­ì œí•˜ê¸° âœ…
   - ìƒíƒœ ë³€ê²½ (TODO) / ê²€ìƒ‰ (ìƒí’ˆ) âœ…

3. ê° íŒŒì¼ì— ì£¼ì„ ì¶”ê°€

4. ì—ëŸ¬ ì²˜ë¦¬ í¬í•¨

5. ì™„ì„± í›„:
   - í”„ë¡œì íŠ¸ ë™ì˜ìƒ ì‹œì—° ë˜ëŠ”
   - ìŠ¤í¬ë¦°ìƒ· + ì†ŒìŠ¤ ì½”ë“œ ì œì¶œ
```

---

## 6ï¸âƒ£ í•µì‹¬ ê°œë… ì •ë¦¬

### CRUD ì‘ì—…

```
CREATE (INSERT) = ìƒˆë¡œìš´ ë°ì´í„° ì¶”ê°€
READ (SELECT)   = ë°ì´í„° ì¡°íšŒ
UPDATE          = ê¸°ì¡´ ë°ì´í„° ìˆ˜ì •
DELETE          = ë°ì´í„° ì‚­ì œ

ëª¨ë“  UPDATE, DELETE ì¿¼ë¦¬ëŠ” ë°˜ë“œì‹œ WHERE ì ˆì´ í•„ìš”!
```

### ë³´ì•ˆ ì²˜ë¦¬

```php
// 1. Prepared Statement ì‚¬ìš©
$sql = "SELECT * FROM todos WHERE id = ?";
$stmt = $pdo->prepare($sql);
$stmt->execute([$id]);

// 2. htmlspecialchars() ì‚¬ìš©
echo htmlspecialchars($user_input);

// 3. ì…ë ¥ê°’ ê²€ì¦
if (empty($title) || strlen($title) > 200) {
    throw new Exception("ì…ë ¥ê°’ ì˜¤ë¥˜");
}

// 4. ì†Œìœ ì í™•ì¸
UPDATE todos SET title = ? WHERE id = ? AND user_id = ?;
```

### PDO í•¨ìˆ˜ë“¤

```php
prepare($sql)      // SQL ì¿¼ë¦¬ë¥¼ ë¯¸ë¦¬ ì¤€ë¹„
execute($params)   // ì¤€ë¹„ëœ ì¿¼ë¦¬ ì‹¤í–‰
fetch()           // í•˜ë‚˜ì˜ í–‰ ë°˜í™˜
fetchAll()        // ëª¨ë“  í–‰ ë°˜í™˜
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **WHERE ì ˆ í™•ì¸**: UPDATE, DELETE ì‹¤í–‰ ì „ ë°˜ë“œì‹œ WHERE ì ˆ í™•ì¸
2. **ì…ë ¥ê°’ ê²€ì¦**: ì‚¬ìš©ì ì…ë ¥ì€ í•­ìƒ ê²€ì¦ í•„ìˆ˜
3. **htmlspecialchars()**: ë°ì´í„° ì¶œë ¥ ì‹œ í•­ìƒ ì‚¬ìš©
4. **ì—ëŸ¬ ì²˜ë¦¬**: try-catchë¡œ ëª¨ë“  ì¿¼ë¦¬ ê°ì‹¸ê¸°
5. **í…ŒìŠ¤íŠ¸**: ì‚­ì œ ì „ì— í•­ìƒ í™•ì¸ ë©”ì‹œì§€ í‘œì‹œ

---

ìˆ˜ê³ í–ˆìŠµë‹ˆë‹¤.

ì¡°ì •í˜„ êµìˆ˜(peterchokr@gmail.com)
ì˜ë‚¨ì´ê³µëŒ€í•™êµ
